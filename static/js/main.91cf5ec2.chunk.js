(this["webpackJsonpkcal-counter"]=this["webpackJsonpkcal-counter"]||[]).push([[0],{197:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(18),o=n.n(r),i=(n(197),n(17)),s=n(10),l=n(16),d=n(403),u=n(389),j=n(30),b="https://sipv.gorecan.com:11111/api/v1",h=n(31),O=n.n(h),f=n(172),m=n(27);function x(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2);return{loading:n,error:o[0],setLoading:c,setError:o[1]}}var g=n(2),p=c.a.createContext({publicFood:[],personalFood:[],loadPublicFood:function(){},loadPersonalFood:function(){},createPersonalFood:function(){},removePersonalFood:function(){},editPersonalFood:function(){},getFoodById:function(){return null},loading:!1});function v(){return Object(a.useContext)(p)}var y=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)([]),l=Object(s.a)(i,2),d=l[0],u=l[1],j=x(),h=j.loading,f=(j.error,j.setLoading),v=j.setError;var y={publicFood:r,personalFood:d,loadPublicFood:function(e){f(!0),O()({method:"get",url:"".concat(b,"/foods/public"),headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){e.response?v(e.response.data.message):v("Unknown error occurred")})).then((function(){return f(!1)}))},loadPersonalFood:function(e){f(!0),O()({method:"get",url:"".concat(b,"/foods/personal"),headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){u(e.data),console.log(e.data)})).catch((function(e){e.response?v(e.response.data.message):v("Unknown error occurred")})).then((function(){return f(!1)}))},getFoodById:function(e){for(var t=0;t<r.length;t++)if(r[t].id==e)return r[t];for(var n=0;n<d.length;n++)if(d[n].id==e)return d[n];return null},loading:h,createPersonalFood:function(e,t){f(!0),O()({method:"post",url:"".concat(b,"/foods/personal"),data:e,headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){u((function(t){return[].concat(Object(m.a)(t),[e.data])}))})).catch((function(e){e.response?v(e.response.data.message):v("Unknown error occurred")})).then((function(){return f(!1)}))},removePersonalFood:function(e,t){f(!0),O()({method:"delete",url:"".concat(b,"/foods/personal/").concat(e),headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return u((function(t){return t.filter((function(t){return t.id!=e}))}))})).catch((function(e){e.response?v(e.response.data.message):v("Unknown error occurred")})).then((function(){return f(!1)}))},editPersonalFood:function(e,t){console.log(e),f(!0),O()({method:"put",url:"".concat(b,"/foods/personal"),data:e,headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){u((function(t){return[].concat(Object(m.a)(t.filter((function(t){return t.id!=e.id}))),[e])}))})).catch((function(e){e.response?v(e.response.data.message):v("Unknown error occurred")})).then((function(){return f(!1)}))}};return Object(g.jsx)(p.Provider,{value:y,children:t})},k={username:"",name:"",id:"",permissions:[],token:""},S=c.a.createContext({isAuthenticated:null,currentUser:k,loading:!1,error:"",register:function(){},login:function(){},logout:function(){}});function C(){return Object(a.useContext)(S)}var F=function(e){var t=e.children,n=(Object(i.g)(),Object(a.useState)(k)),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)(null),d=Object(s.a)(l,2),u=d[0],j=d[1],h=Object(a.useState)(""),m=Object(s.a)(h,2),x=m[0],p=m[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),F=C[0],T=C[1],w=v(),P=w.loadPublicFood,A=w.loadPersonalFood;function E(){var e=localStorage.getItem("token");e&&function(e){return!((new Date).getTime()/1e3>parseInt(Object(f.a)(e).exp))}(e)?function(e){T(!0),O()({method:"get",url:"".concat(b,"/profile"),headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){var n=t.data,a=n.firstName,c=n.lastName,r=n.id,i=n.permissions,s=n.username;o({id:r,name:a+" "+c,username:s,permissions:i,token:e}),j(!0)})).catch((function(e){e.response?p(e.response.data.message):p("Unknown error occurred"),localStorage.clear(),j(!1)})).then((function(){T(!1)}))}(e):j(!1)}Object(a.useEffect)((function(){E()}),[]),Object(a.useEffect)((function(){u&&(A(r),P(r))}),[u]);var N={isAuthenticated:u,currentUser:r,loading:F,error:x,register:function(e){T(!0),O()({method:"post",url:"".concat(b,"/register"),data:e}).then((function(t){T(!1),e.toggleAction()})).catch((function(e){e.response?p(e.response.data.message):p("Unknown error occurred"),T(!1)}))},login:function(e){T(!0),O()({method:"post",url:"".concat(b,"/authenticate"),data:e}).then((function(e){var t=e.data,n=t.id,a=t.name,c=t.permissions,r=t.token,i=t.username;localStorage.setItem("token",r),o({id:n,name:a,permissions:c,token:r,username:i}),j(!0)})).catch((function(e){e.response?p(e.response.data.message):p("Unknown error occurred!"),j(!1)})).then((function(){T(!1)}))},logout:function(){T(!0),O()({method:"delete",url:"".concat(b,"/session/destroy"),headers:{Authorization:"Bearer ".concat(r.token)}}).catch((function(e){e.response?p(e.response.data.message):p("Unknown error occurred")})).then((function(){localStorage.removeItem("token"),j(!1),T(!1)}))}};return Object(g.jsx)(S.Provider,{value:N,children:t})},T=n(24),w=n(102),P=n(388),A=n(96),E=function(e){var t=e.loading,n=Object(w.a)(e,["loading"]);return Object(g.jsx)(P.a,Object(T.a)(Object(T.a)({},n),{},{children:t?Object(g.jsx)(A.PulseLoader,{size:"8px",color:"white"}):n.children}))},N=n(28),I=N.b().shape({username:N.d().required(),password:N.d().required()}),B=function(e){var t=e.toggleAction,n=C(),a=n.login,c=n.loading,r=n.isAuthenticated;n.error;return r?Object(g.jsx)(i.a,{to:"/dashboard"}):Object(g.jsx)(l.c,{initialValues:{username:"",password:""},validationSchema:I,onSubmit:function(e,t){var n=t.setSubmitting;a(e),n(!1)},children:function(e){var n=e.submitForm,a=e.isSubmitting;e.errors;return Object(g.jsxs)(l.b,{children:[Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"w",type:"text",label:"Username",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"password",type:"password",label:"Password",component:j.a})}),Object(g.jsxs)(d.a,{margin:1,children:[Object(g.jsx)(E,{loading:c,variant:"contained",color:"primary",disabled:a,onClick:n,children:"Login"}),Object(g.jsx)(u.a,{component:"button",type:"button",variant:"body1",onClick:t,children:"Create an account"})]})]})}})},U=N.b().shape({firstName:N.d().min(2,"Too short!").max(50,"Too long!").required(),lastName:N.d().min(2,"Too short!").max(50,"Too long!").required(),username:N.d().min(5,"Too short!").max(50,"Too long!").required(),email:N.d().email("Invalid email").required(),password:N.d().min(12,"Too short!").max(100,"Too long!").required(),confirmPassword:N.d().oneOf([N.c("password"),null],"Passwords must match").required()}),L=function(e){var t=e.toggleAction,n=C(),a=n.register,c=n.loading,r=n.error;return Object(g.jsx)(l.c,{initialValues:{firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:""},validationSchema:U,onSubmit:function(e,n){var c=n.setSubmitting;a({firstName:e.firstName,lastName:e.lastName,username:e.username,email:e.email,password:e.password,toggleAction:t}),c(!1)},children:function(e){var n=e.submitForm,a=e.isSubmitting;return Object(g.jsxs)(l.b,{children:[Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"firstName",type:"text",label:"First Name",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"lastName",type:"text",label:"Last Name",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"username",type:"text",label:"Username",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"email",type:"email",label:"Email",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"password",type:"password",label:"Password",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"confirmPassword",type:"password",label:"Confirm Password",component:j.a})}),Object(g.jsxs)(d.a,{margin:1,children:[Object(g.jsx)(E,{loading:c,variant:"contained",color:"primary",disabled:a,onClick:n,children:"Register"}),Object(g.jsx)(u.a,{component:"button",type:"button",variant:"body1",onClick:t,children:"I already have an account"})]}),Object(g.jsx)(d.a,{margin:1,children:r})]})}})},M=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];function r(){c((function(e){return!e}))}return Object(g.jsx)("div",{children:n?Object(g.jsx)(L,{toggleAction:r}):Object(g.jsx)(B,{toggleAction:r})})},R=n(79),V=n(382),z=n(408),q=function(e){var t=e.carbs,n=e.fat,a=e.protein;return Object(g.jsxs)("div",{children:[Object(g.jsx)(z.a,{variant:"outlined",color:"primary",label:"Carbs: ".concat(t,"g")}),Object(g.jsx)(z.a,{variant:"outlined",color:"primary",label:"Fat: ".concat(n,"g")}),Object(g.jsx)(z.a,{variant:"outlined",color:"primary",label:"Protein: ".concat(a,"g")})]})},D=n(390),G=n(391),W=n(409),H=Object(D.a)({root:{width:250},input:{width:42}}),K=function(e){var t=e.value,n=e.setValue,a=e.label,c=H();return Object(g.jsxs)("div",{className:c.root,children:[Object(g.jsx)(R.a,{id:"input-slider",gutterBottom:!0,children:a}),Object(g.jsxs)(G.a,{container:!0,spacing:2,alignItems:"center",children:[Object(g.jsx)(G.a,{item:!0,xs:!0,children:Object(g.jsx)(W.a,{value:"number"===typeof t?t:0,onChange:function(e,t){n(t)},"aria-labelledby":"input-slider"})}),Object(g.jsxs)(G.a,{item:!0,children:[Object(g.jsx)(V.a,{className:c.input,value:t,margin:"dense",onChange:function(e){n(""===e.target.value?"":Number(e.target.value))},onBlur:function(){(t<0||""===t)&&n(0)},inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider"}}),"%"]})]})]})},_=function(){var e=Object(a.useState)(50),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(15),o=Object(s.a)(r,2),i=o[0],l=o[1],d=Object(a.useState)(35),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(2e3),O=Object(s.a)(h,2),f=O[0],m=O[1],x=Object(a.useState)(!1),p=Object(s.a)(x,2),v=p[0],y=p[1],k=Object(a.useState)({carbs:0,fat:0,protein:0}),S=Object(s.a)(k,2),C=S[0],F=S[1];return Object(a.useEffect)((function(){!function(){if("number"===typeof f){var e=0;"number"===typeof n&&(e+=n,F((function(e){return Object(T.a)(Object(T.a)({},e),{},{carbs:Math.round(f/400*n)})}))),"number"===typeof i&&(e+=i,F((function(e){return Object(T.a)(Object(T.a)({},e),{},{fat:Math.round(f/900*i)})}))),"number"===typeof j&&(e+=j,F((function(e){return Object(T.a)(Object(T.a)({},e),{},{protein:Math.round(f/400*j)})}))),y(e>100)}}()}),[n,i,j,f]),Object(g.jsxs)("div",{children:[Object(g.jsx)(R.a,{id:"total-calories",gutterBottom:!0,children:"Total calories"}),Object(g.jsx)(V.a,{"aria-labelledby":"total-calories",value:f,onChange:function(e){m(""===e.target.value?"":Number(e.target.value))},onBlur:function(){(f<0||""===f)&&m(0)}}),Object(g.jsx)(K,{label:"Carbohydrates",value:n,setValue:c}),Object(g.jsx)(K,{label:"Protein",value:j,setValue:b}),Object(g.jsx)(K,{label:"Fat",value:i,setValue:l}),Object(g.jsx)(q,Object(T.a)({},C)),v&&Object(g.jsx)("div",{children:"The percentage total is more than 100%"})]})},J=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(_,{})})},Y=function(){var e=C().currentUser;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Profile page"}),Object(g.jsx)("div",{children:e.id}),Object(g.jsx)("div",{children:e.name}),Object(g.jsx)("div",{children:e.username}),Object(g.jsx)("div",{children:e.token})]})},Q=function(e){var t=e.children,n=Object(w.a)(e,["children"]),a=C().isAuthenticated;return Object(g.jsx)(i.b,Object(T.a)(Object(T.a)({},n),{},{render:function(){return a?t:Object(g.jsx)(i.a,{to:{pathname:"/"}})}}))},X=n(392),Z=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return{darkMode:n,toggleDarkMode:function(){c((function(e){return!e}))}}},$=n(179),ee=Object($.a)({palette:{type:"light"}}),te=Object($.a)({palette:{type:"dark"}}),ne=c.a.createContext((function(){}));var ae=function(e){var t=e.children,n=Z(),a=n.darkMode,c=n.toggleDarkMode;return Object(g.jsx)(X.a,{theme:a?te:ee,children:Object(g.jsx)(ne.Provider,{value:c,children:t})})},ce=n(57),re=n(393),oe=n(394),ie=n(352),se=n(387),le=n(176),de=n.n(le),ue=n(177),je=n.n(ue),be=Object(D.a)((function(e){return{menuButton:{marginRight:e.spacing(2),edge:"start",color:"inherit"},title:{marginRight:20},filler:{flexGrow:1},icon:{width:40,height:40},switchToggle:{color:"default"}}})),he=function(e){var t=e.loading,n=e.logout,a=e.toggleTheme,c=e.type,r=e.handleLogoClick,o=e.handleProfileClick,i=e.handleFoodClick,s=e.handleIntakeClick,l=be();return Object(g.jsx)(re.a,{position:"static",children:Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(ie.a,{className:l.menuButton,onClick:r,children:Object(g.jsx)(de.a,{})}),Object(g.jsx)(R.a,{className:l.title,variant:"h6",children:"KCAL-COUNTER"}),Object(g.jsx)(P.a,{variant:"text",color:"inherit",onClick:i,children:"Food"}),Object(g.jsx)(P.a,{variant:"text",color:"inherit",onClick:s,children:"Intake"}),Object(g.jsx)("div",{className:l.filler}),Object(g.jsx)(se.a,{className:l.switchToggle,checked:"light"===c,onChange:a}),Object(g.jsx)(ie.a,{className:l.menuButton,onClick:o,children:Object(g.jsx)(je.a,{className:l.icon})}),Object(g.jsx)(E,{loading:t,variant:"outlined",color:"inherit",onClick:n,children:"Logout"})]})})},Oe=function(){var e=Object(i.g)(),t=C(),n=t.logout,c=t.loading,r=Object(a.useContext)(ne),o=Object(ce.a)().palette.type;return Object(g.jsx)(he,{loading:c,logout:n,handleLogoClick:function(){e.push("/")},handleProfileClick:function(){e.push("/profile")},handleFoodClick:function(){e.push("/food")},handleIntakeClick:function(){e.push("/intake")},toggleTheme:r,type:o})},fe=n(402),me=n(400),xe=["NOT_SPECIFIED","VEGETABLES","FRUITS","NUTS","MEATS","SWEETS","PASTRY","FISH","CARBS"],ge=n(410),pe=n(353),ve=n(397),ye=n(398),ke=n(395),Se=n(396),Ce=n(52),Fe=n(178),Te=function(e){switch(e.foodType){case"MEATS":return Object(g.jsx)(Ce.d,{});case"FRUITS":return Object(g.jsx)(Ce.f,{});case"VEGETABLES":return Object(g.jsx)(Ce.b,{});case"FISH":return Object(g.jsx)(Ce.c,{});case"NUTS":return Object(g.jsx)(Ce.e,{});case"PASTRY":return Object(g.jsx)(Ce.a,{});case"SWEETS":return Object(g.jsx)(Ce.h,{});case"CARBS":return Object(g.jsx)(Ce.g,{});default:return Object(g.jsx)(Fe.a,{})}},we=function(e){var t=e.foodType;return Object(g.jsx)(ke.a,{children:Object(g.jsx)(Se.a,{fontSize:"large",color:"primary",children:Object(g.jsx)(Te,{foodType:t})})})},Pe=Object(D.a)((function(e){return Object(ge.a)({listItem:{backgroundColor:e.palette.background.paper},kcal:{margin:e.spacing(4,0,2)}})})),Ae=function(e){var t=e.food,n=Pe();return Object(g.jsxs)(pe.a,{className:n.listItem,children:[Object(g.jsx)(we,{foodType:t.foodType}),Object(g.jsx)(ve.a,{primary:t.name,secondary:t.foodType}),Object(g.jsx)(ye.a,{children:Object(g.jsx)(R.a,{variant:"h6",children:"".concat(t.kcal," kcal")})})]})},Ee=n(386),Ne=n(399),Ie=function(e){var t=e.foodArray;return Object(g.jsx)(Ee.a,{children:t.map((function(e,n){return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ae,{food:e}),n!==t.length-1?Object(g.jsx)(Ne.a,{variant:"inset"}):Object(g.jsx)(g.Fragment,{})]},e.id)}))})},Be=n(406),Ue=Object(D.a)((function(e){return{listItemWrapper:{display:"flex",width:"100%"},listItem:{flex:1}}})),Le=function(e){var t=e.foodArray,n=e.checked,a=e.setChecked,c=e.single,r=Ue();return Object(g.jsx)(Ee.a,{children:t.map((function(e,o){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:r.listItemWrapper,children:[Object(g.jsx)(Be.a,{checked:n.includes(e.id),onChange:function(t,n){return function(e,t,n){a(c?t?[n]:[]:t?function(e){return[].concat(Object(m.a)(e),[n])}:function(e){return e.filter((function(e){return e!==n}))})}(0,n,e.id)}}),Object(g.jsx)("div",{className:r.listItem,children:Object(g.jsx)(Ae,{food:e})})]}),o!==t.length-1?Object(g.jsx)(Ne.a,{variant:"inset"}):Object(g.jsx)(g.Fragment,{})]},e.id)}))})},Me=function(e){var t=e.food,n=e.handleEditToggle,a=C().currentUser,c=v(),r=c.loading,o=c.editPersonalFood;return Object(g.jsx)("div",{children:Object(g.jsx)(l.c,{initialValues:{name:t.name,kcal:t.kcal,foodType:void 0!==t.foodType?t.foodType:"NOT_SPECIFIED"},validationSchema:Re,onSubmit:function(e,c){c.setSubmitting,c.resetForm;o(Object(T.a)(Object(T.a)({},t),{},{name:e.name,kcal:e.kcal,foodType:e.foodType}),a),n()},children:function(e){var t=e.submitForm,n=e.isSubmitting,a=(e.errors,e.values),c=e.setFieldValue;return Object(g.jsxs)(l.b,{children:[Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"name",type:"text",label:"Name",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"kcal",type:"number",label:"Kcal",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(fe.a,{value:a.foodType,onChange:function(e){return c("foodType",e.target.value)},children:xe.map((function(e){return Object(g.jsx)(me.a,{value:e,children:e},e)}))})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(E,{loading:r,variant:"contained",color:"primary",disabled:n,onClick:t,children:"Save"})})]})}})})},Re=N.b().shape({name:N.d().required(),kcal:N.a().positive().required(),foodType:N.d().optional()}),Ve=function(){var e=v(),t=e.publicFood,n=e.personalFood,c=e.createPersonalFood,r=e.loading,o=e.removePersonalFood,i=e.getFoodById,u=Object(a.useState)(!1),b=Object(s.a)(u,2),h=b[0],O=b[1],f=Object(a.useState)(!1),m=Object(s.a)(f,2),x=m[0],p=m[1],y=Object(a.useState)(!1),k=Object(s.a)(y,2),S=k[0],F=k[1],T=C().currentUser,w=Object(a.useState)([]),A=Object(s.a)(w,2),N=A[0],I=A[1],B=Object(a.useState)(null),U=Object(s.a)(B,2),L=U[0],M=U[1];function R(){null!==L&&F((function(e){return!e}))}return Object(a.useEffect)((function(){1===N.length&&M(i(N[0]))}),[N]),Object(g.jsxs)(g.Fragment,{children:[!x&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Ie,{foodArray:t.concat(n)}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return p(!0)},children:"Edit personal food"})]}),x&&Object(g.jsxs)("div",{children:[!h&&!S&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Le,{checked:N,setChecked:I,foodArray:n,single:!0}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)},children:"Create new food"}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:R,children:"Edit selected"}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){1===N.length&&o(N[0],T)},children:"Remove selected"}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return p(!1)},children:"Back to food"})]}),!h&&1===N.length&&S&&null!==L&&Object(g.jsx)(Me,{food:L,handleEditToggle:R}),h&&Object(g.jsx)("div",{children:Object(g.jsx)(l.c,{initialValues:{name:"",kcal:0,foodType:"NOT_SPECIFIED"},validationSchema:Re,onSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm;c(e,T),a(),n(!1)},children:function(e){var t=e.submitForm,n=e.isSubmitting,a=(e.errors,e.values),c=e.setFieldValue;return Object(g.jsxs)(l.b,{children:[Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"name",type:"text",label:"Name",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(l.a,{name:"kcal",type:"number",label:"Kcal",component:j.a})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(fe.a,{value:a.foodType,onChange:function(e){return c("foodType",e.target.value)},children:xe.map((function(e){return Object(g.jsx)(me.a,{value:e,children:e},e)}))})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(E,{loading:r,variant:"contained",color:"primary",disabled:n,onClick:t,children:"Create food"})}),Object(g.jsx)(d.a,{margin:1,children:Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return O(!1)},children:"Back to food"})})]})}})})]})]})},ze=function(){return Object(g.jsx)("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(A.RotateLoader,{loading:!0})})},qe=function(){var e=Object(i.g)();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Error 404"}),Object(g.jsx)("h6",{children:"Page does not exist!"}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return e.push("/")},children:"Go to login"})]})},De=n(405),Ge=n(404),We=function(e){var t=e.foodArray;return Object(g.jsx)(Ee.a,{children:t.map((function(e,n){return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ae,{food:e}),n!==t.length-1?Object(g.jsx)(Ne.a,{variant:"inset"}):Object(g.jsx)(g.Fragment,{})]},e.id)}))})},He=function(){function e(e){return Object(De.a)(Object(Ge.a)(e,"yyyy-MM-dd",new Date),"d/M/yyyy")}var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(0),i=Object(s.a)(o,2),l=i[0],d=i[1],u=Object(a.useState)(Object(De.a)(Date.now(),"yyyy-MM-dd")),j=Object(s.a)(u,2),h=j[0],f=j[1],p=x(),y=(p.loading,p.error,p.setLoading),k=p.setError,S=Object(a.useState)(!1),F=Object(s.a)(S,2),w=F[0],A=F[1],E=C().currentUser,N=v(),I=N.publicFood,B=N.personalFood,U=N.getFoodById,L=Object(a.useState)([]),M=Object(s.a)(L,2),R=M[0],z=M[1];return Object(a.useEffect)((function(){y(!0),O()({method:"get",url:"".concat(b,"/intake/").concat(e(h)),headers:{Authorization:"Bearer ".concat(E.token)}}).then((function(e){r(e.data)})).catch((function(e){e.response?k(e.response.data.message):k("Unknown error occurred")})).then((function(){return y(!1)}))}),[h]),Object(a.useEffect)((function(){!function(){var e=0;c.forEach((function(t){e+=t.kcal})),d(e)}()}),[c]),Object(g.jsxs)(g.Fragment,{children:[!w&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(V.a,{type:"date",value:h,onChange:function(e){f(e.target.value)}}),Object(g.jsxs)("div",{children:["Todal calories: ",l]}),0===c.length&&Object(g.jsx)("div",{children:"No intake for this day has been found!"}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return A(!0)},children:"Add food"})]}),Object(g.jsx)(We,{foodArray:c})]}),w&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Le,{foodArray:I.concat(B),checked:R,setChecked:z}),Object(g.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){for(var t=function(t){var n=U(R[t]);null!==n&&O()({method:"post",url:"".concat(b,"/intake/").concat(e(h),"/").concat(n.id),headers:{Authorization:"Bearer ".concat(E.token)}}).then((function(e){var t=Object(T.a)(Object(T.a)({},n),{},{id:e.data.id,foodId:e.data.foodId});r((function(e){return[].concat(Object(m.a)(e),[t])}))})).catch((function(e){e.response?k(e.response.data.message):k("Unknown error occurred")})).then((function(){return y(!1)}))},n=0;n<R.length;n++)t(n);A(!1)},children:"Add selected"})]})]})};var Ke=function(){return null===C().isAuthenticated?Object(g.jsx)(ze,{}):Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{path:"/",exact:!0,component:M}),Object(g.jsxs)(Q,{path:"/dashboard",children:[Object(g.jsx)(Oe,{}),Object(g.jsx)(J,{})]}),Object(g.jsxs)(Q,{path:"/profile",children:[Object(g.jsx)(Oe,{}),Object(g.jsx)(Y,{})]}),Object(g.jsxs)(Q,{path:"/food",children:[Object(g.jsx)(Oe,{}),Object(g.jsx)(Ve,{})]}),Object(g.jsxs)(Q,{path:"/intake",children:[Object(g.jsx)(Oe,{}),Object(g.jsx)(He,{})]}),Object(g.jsx)(i.b,{path:"*",component:qe})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,412)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Je=n(401),Ye=n(76);o.a.render(Object(g.jsx)(Ye.a,{children:Object(g.jsx)(ae,{children:Object(g.jsx)(y,{children:Object(g.jsxs)(F,{children:[Object(g.jsx)(Je.a,{}),Object(g.jsx)(Ke,{})]})})})}),document.getElementById("root")),_e()}},[[348,1,2]]]);
//# sourceMappingURL=main.91cf5ec2.chunk.js.map