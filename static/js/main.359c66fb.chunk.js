(this["webpackJsonpkcal-counter"]=this["webpackJsonpkcal-counter"]||[]).push([[0],{124:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),i=n.n(r),o=(n(124),n(56)),s=n(13),l=n(21),j=n(19),u=n(222),b=n(215),d=n(35),O="http://sipv.gorecan.com:11111/api/v1",h=n(68),m=n.n(h),g=n(2),x={username:"",name:"",id:"",permissions:[],token:""},f=c.a.createContext({isAuthenticated:!1,currentUser:x,loading:!1,error:"",register:function(){},login:function(){},logout:function(){}});function p(){return Object(a.useContext)(f)}var v=function(e){var t=e.children,n=Object(a.useState)(x),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),s=Object(l.a)(o,2),j=s[0],u=s[1],b=Object(a.useState)(""),d=Object(l.a)(b,2),h=d[0],p=d[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),k=y[0],C=y[1];Object(a.useEffect)((function(){}),[]);var w={isAuthenticated:j,currentUser:r,loading:k,error:h,register:function(e){C(!0),m()({method:"post",url:"".concat(O,"/register"),data:e}).then((function(e){})).catch((function(e){return p(e.response.data.message)})).then((function(){return C(!1)}))},login:function(e){C(!0),m()({method:"post",url:"".concat(O,"/authenticate"),data:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).then((function(){i({username:"martines3000",name:"Martin Domajnko",id:"id123id123id123",token:"dflksmgklsdfmgkslodnmgkJWTJWT",permissions:[]}),u(!0),C(!1)}))},logout:function(){C(!0),m()({method:"delete",url:"".concat(O,"/session/destory"),headers:{Authorization:""}}).then((function(e){console.log(e)})).catch((function(e){return p(e)})).then((function(){u(!1),C(!1)}))}};return Object(g.jsx)(f.Provider,{value:w,children:t})},y=n(22),k=n(66),C=n(214),w=n(102),N=function(e){var t=e.loading,n=Object(k.a)(e,["loading"]);return Object(g.jsx)(C.a,Object(y.a)(Object(y.a)({},n),{},{children:t?Object(g.jsx)(w.PulseLoader,{size:"8px",color:"white"}):n.children}))},S=function(e){var t=e.toggleAction,n=p(),a=n.login,c=n.loading;return n.isAuthenticated?Object(g.jsx)(s.a,{to:"/dashboard"}):Object(g.jsx)(j.c,{initialValues:{username:"",password:""},onSubmit:function(e,t){var n=t.setSubmitting;a(e),n(!1)},children:function(e){var n=e.submitForm,a=e.isSubmitting;return Object(g.jsxs)(j.b,{children:[Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"username",type:"text",label:"Username",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"password",type:"password",label:"Password",component:d.a})}),Object(g.jsxs)(u.a,{margin:1,children:[Object(g.jsx)(N,{loading:c,variant:"contained",color:"primary",disabled:a,onClick:n,children:"Login"}),Object(g.jsx)(b.a,{component:"button",type:"button",variant:"body1",onClick:t,children:"Create an account"})]})]})}})},P=function(e){var t=e.toggleAction,n=p(),a=n.register,c=n.loading;n.error;return Object(g.jsx)(j.c,{initialValues:{firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:""},onSubmit:function(e,t){var n=t.setSubmitting;a({firstName:e.firstName,lastName:e.lastName,username:e.username,email:e.email,password:e.password}),n(!1)},children:function(e){var n=e.submitForm,a=e.isSubmitting;return Object(g.jsxs)(j.b,{children:[Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"firstName",type:"text",label:"First Name",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"lastName",type:"text",label:"Last Name",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"username",type:"text",label:"Username",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"email",type:"email",label:"Email",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"password",type:"password",label:"Password",component:d.a})}),Object(g.jsx)(u.a,{margin:1,children:Object(g.jsx)(j.a,{name:"confirmPassword",type:"password",label:"Confirm Password",component:d.a})}),Object(g.jsxs)(u.a,{margin:1,children:[Object(g.jsx)(N,{loading:c,variant:"contained",color:"primary",disabled:a,onClick:n,children:"Register"}),Object(g.jsx)(b.a,{component:"button",type:"button",variant:"body1",onClick:t,children:"I already have an account"})]})]})}})},T=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];function r(){c((function(e){return!e}))}return Object(g.jsx)("div",{children:n?Object(g.jsx)(P,{toggleAction:r}):Object(g.jsx)(S,{toggleAction:r})})},A=n(182),B=n(210),F=n(223),L=function(e){var t=e.carbs,n=e.fat,a=e.protein;return Object(g.jsxs)("div",{children:[Object(g.jsx)(F.a,{variant:"outlined",color:"primary",label:"Carbs: ".concat(t,"g")}),Object(g.jsx)(F.a,{variant:"outlined",color:"primary",label:"Fat: ".concat(n,"g")}),Object(g.jsx)(F.a,{variant:"outlined",color:"primary",label:"Protein: ".concat(a,"g")})]})},M=n(216),U=n(217),V=n(224),D=Object(M.a)({root:{width:250},input:{width:42}}),E=function(e){var t=e.value,n=e.setValue,a=e.label,c=D();return Object(g.jsxs)("div",{className:c.root,children:[Object(g.jsx)(A.a,{id:"input-slider",gutterBottom:!0,children:a}),Object(g.jsxs)(U.a,{container:!0,spacing:2,alignItems:"center",children:[Object(g.jsx)(U.a,{item:!0,xs:!0,children:Object(g.jsx)(V.a,{value:"number"===typeof t?t:0,onChange:function(e,t){n(t)},"aria-labelledby":"input-slider"})}),Object(g.jsxs)(U.a,{item:!0,children:[Object(g.jsx)(B.a,{className:c.input,value:t,margin:"dense",onChange:function(e){n(""===e.target.value?"":Number(e.target.value))},onBlur:function(){(t<0||""===t)&&n(0)},inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider"}}),"%"]})]})]})},I=function(){var e=Object(a.useState)(50),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(15),i=Object(l.a)(r,2),o=i[0],s=i[1],j=Object(a.useState)(35),u=Object(l.a)(j,2),b=u[0],d=u[1],O=Object(a.useState)(2e3),h=Object(l.a)(O,2),m=h[0],x=h[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),v=p[0],k=p[1],C=Object(a.useState)({carbs:0,fat:0,protein:0}),w=Object(l.a)(C,2),N=w[0],S=w[1];return Object(a.useEffect)((function(){!function(){if("number"===typeof m){var e=0;"number"===typeof n&&(e+=n,S((function(e){return Object(y.a)(Object(y.a)({},e),{},{carbs:Math.round(m/400*n)})}))),"number"===typeof o&&(e+=o,S((function(e){return Object(y.a)(Object(y.a)({},e),{},{fat:Math.round(m/900*o)})}))),"number"===typeof b&&(e+=b,S((function(e){return Object(y.a)(Object(y.a)({},e),{},{protein:Math.round(m/400*b)})}))),k(e>100)}}()}),[n,o,b,m]),Object(g.jsxs)("div",{children:[Object(g.jsx)(A.a,{id:"total-calories",gutterBottom:!0,children:"Total calories"}),Object(g.jsx)(B.a,{"aria-labelledby":"total-calories",value:m,onChange:function(e){x(""===e.target.value?"":Number(e.target.value))},onBlur:function(){(m<0||""===m)&&x(0)}}),Object(g.jsx)(E,{label:"Carbohydrates",value:n,setValue:c}),Object(g.jsx)(E,{label:"Protein",value:b,setValue:d}),Object(g.jsx)(E,{label:"Fat",value:o,setValue:s}),Object(g.jsx)(L,Object(y.a)({},N)),v&&Object(g.jsx)("div",{children:"The percentage total is more than 100%"})]})},J=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Dashboard page"}),Object(g.jsx)(I,{})]})},R=function(){var e=p().currentUser;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Profile page"}),Object(g.jsx)("div",{children:e.id}),Object(g.jsx)("div",{children:e.name}),Object(g.jsx)("div",{children:e.username}),Object(g.jsx)("div",{children:e.token})]})},z=function(e){var t=e.children,n=Object(k.a)(e,["children"]),a=p().isAuthenticated;return Object(g.jsx)(s.b,Object(y.a)(Object(y.a)({},n),{},{render:function(){return!0===a?t:Object(g.jsx)(s.a,{to:{pathname:"/"}})}}))},W=n(218),G=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return{darkMode:n,toggleDarkMode:function(){c((function(e){return!e}))}}},K=n(105),q=Object(K.a)({palette:{type:"light"}}),H=Object(K.a)({palette:{type:"dark"}}),Q=c.a.createContext((function(){}));var X=function(e){var t=e.children,n=G(),a=n.darkMode,c=n.toggleDarkMode;return Object(g.jsx)(W.a,{theme:a?H:q,children:Object(g.jsx)(Q.Provider,{value:c,children:t})})},Y=n(43),Z=n(219),$=n(220),_=n(181),ee=n(213),te=n(103),ne=n.n(te),ae=n(104),ce=n.n(ae),re=Object(M.a)((function(e){return{menuButton:{marginRight:e.spacing(2),edge:"start",color:"inherit"},title:{flexGrow:1},icon:{width:40,height:40},switchToggle:{color:"default"}}})),ie=function(e){var t=e.loading,n=e.logout,a=e.toggleTheme,c=e.type,r=e.handleLogoClick,i=e.handleProfileClick,o=re();return Object(g.jsx)(Z.a,{position:"static",children:Object(g.jsxs)($.a,{children:[Object(g.jsx)(_.a,{className:o.menuButton,onClick:r,children:Object(g.jsx)(ne.a,{})}),Object(g.jsx)(A.a,{className:o.title,variant:"h6",children:"KCAL-COUNTER"}),Object(g.jsx)(ee.a,{className:o.switchToggle,checked:"light"===c,onChange:a}),Object(g.jsx)(_.a,{className:o.menuButton,onClick:i,children:Object(g.jsx)(ce.a,{className:o.icon})}),Object(g.jsx)(N,{loading:t,variant:"outlined",color:"inherit",onClick:n,children:"Logout"})]})})},oe=function(){var e=Object(s.g)(),t=p(),n=t.logout,c=t.loading,r=Object(a.useContext)(Q),i=Object(Y.a)().palette.type;return Object(g.jsx)(ie,{loading:c,logout:n,handleLogoClick:function(){e.push("/")},handleProfileClick:function(){e.push("/profile")},toggleTheme:r,type:i})};var se=function(){return Object(g.jsx)(o.a,{basename:"/kcal-counter",children:Object(g.jsxs)(s.d,{children:[Object(g.jsx)(s.b,{path:"/",exact:!0,component:T}),Object(g.jsxs)(z,{path:"/dashboard",children:[Object(g.jsx)(oe,{}),Object(g.jsx)(J,{})]}),Object(g.jsxs)(z,{path:"/profile",children:[Object(g.jsx)(oe,{}),Object(g.jsx)(R,{})]})]})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},je=n(221);i.a.render(Object(g.jsx)(X,{children:Object(g.jsxs)(v,{children:[Object(g.jsx)(je.a,{}),Object(g.jsx)(se,{})]})}),document.getElementById("root")),le()}},[[177,1,2]]]);
//# sourceMappingURL=main.359c66fb.chunk.js.map